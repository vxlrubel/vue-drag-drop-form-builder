<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Drag & Drop Form Builder</title>

      <!-- Font Awesome for icons -->
      <link
         rel="stylesheet"
         href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
      <!-- Bootstrap CSS -->
      <link href="./assets/css/bootstrap.min.css" rel="stylesheet" />

      <link rel="stylesheet" href="./assets/css/style.css" />
   </head>
   <body>
      <div id="app" v-cloak>
         <div
            v-if="loading"
            style="z-index: 9999; background-color: rgba(255, 255, 255, 1)"
            class="position-fixed top-0 bottom-0 start-0 end-0 d-flex align-items-center justify-content-center">
            <div class="bg-danger"><div class="loader"></div></div>
         </div>
         <div v-else class="wraper user-select-none">
            <!-- leftsidebar -->
            <div class="leftside" :style="{ width: sidebarWidth + 'px' }">
               <div
                  class="d-flex align-items-center sidebar-controls-height px-3 border-bottom">
                  <button
                     type="button"
                     @click="elementsListVisible = true"
                     :class="{
                        'active' : elementsListVisible
                     }"
                     class="btn btn-sm rounded-0 btn-outline-primary w-50">
                     Fields
                  </button>
                  <button
                     type="button"
                     @click="initEditField"
                     :class="{
                        'active' : !elementsListVisible
                     }"
                     class="btn btn-sm rounded-0 btn-outline-primary w-50">
                     Field Settings
                  </button>
               </div>

               <!-- draggable elements -->
               <div class="sidebar-elements p-3">
                  <template v-if="elementsListVisible">
                     <draggable
                        v-model="fieldTypes"
                        :group="{ name: 'fields', pull: 'clone', put: false }"
                        :sort="false"
                        :clone="createField"
                        item-key="type"
                        class="draggable-field-items"
                        id="field-palette">
                        <template #item="{element}">
                           <div
                              class="draggable-field-item border border-primary text-center p-2"
                              :data-type="element.type">
                              <div class="text-primary">
                                 <i :class="element.icon"></i>
                              </div>
                              <div class="draggable-text">
                                 {{ element.label }}
                              </div>
                           </div>
                        </template>
                     </draggable>
                  </template>

                  <template v-if="!elementsListVisible">
                     <div class="small">
                        <div class="mb-3">
                           <label class="form-label">Label</label>
                           <input
                              type="text"
                              class="form-control form-control-sm rounded-0 bg-light"
                              v-model="editingField.label" />
                        </div>
                        <div class="mb-3">
                           <label class="form-label">Placeholder</label>
                           <input
                              type="text"
                              class="form-control form-control-sm rounded-0 bg-light"
                              v-model="editingField.placeholder" />
                        </div>
                        <div
                           class="mb-3"
                           v-if="editingField.type === 'select' || editingField.type === 'radio' || editingField.type === 'checkbox'">
                           <label class="form-label"
                              >Options (one per line)</label
                           >
                           <textarea
                              class="form-control form-control-sm rounded-0 bg-light"
                              rows="4"
                              v-model="optionsText"></textarea>
                        </div>
                        <div class="mb-3" v-if="editingField.type === 'photo'">
                           <label class="form-label">Accepted File Types</label>
                           <input
                              type="text"
                              class="form-control"
                              v-model="editingField.acceptedTypes"
                              placeholder="e.g., image/jpeg, image/png, image/gif" />
                           <small class="text-muted"
                              >Leave empty for default (all image types)</small
                           >
                        </div>
                        <div class="mb-3" v-if="editingField.type === 'photo'">
                           <label class="form-label">Max File Size (MB)</label>
                           <input
                              type="number"
                              class="form-control"
                              v-model="editingField.maxSize"
                              placeholder="5" />
                        </div>
                        <div class="mb-3 form-check">
                           <input
                              type="checkbox"
                              class="form-check-input"
                              id="requiredCheck"
                              v-model="editingField.required" />
                           <label class="form-check-label" for="requiredCheck"
                              >Required Field</label
                           >
                        </div>
                        <hr />
                        <button
                           type="button"
                           class="btn btn-success rounded-0 w-100"
                           @click="saveField">
                           Save Changes
                        </button>
                     </div>
                  </template>
               </div>

               <div
                  class="d-flex align-items-center sidebar-controls-height px-3 border-top gap-2">
                  <button
                     type="button"
                     @click="clearAll"
                     class="btn btn-sm rounded-0 btn-danger px-0 w-50">
                     Reset
                  </button>
                  <button
                     type="button"
                     @click="loadSampleData"
                     class="btn btn-sm rounded-0 btn-primary px-0 w-50">
                     Load Form
                  </button>
               </div>
            </div>
            <div
               class="resizer"
               @mousedown="startResize"
               :class="{'active': isResizing}">
               <span>
                  <svg
                     xmlns="http://www.w3.org/2000/svg"
                     height="13px"
                     viewBox="0 -960 960 960"
                     width="13px"
                     fill="currentColor">
                     <path
                        d="m682-247-90-88 81-81H520v-127h153l-80-80 89-88 232 232-232 232Zm-403 0L46-479l232-232 89 88-80 80h153v127H286l81 81-88 88Z" />
                  </svg>
               </span>
            </div>

            <!-- rightsidebar -->
            <div class="rightside">
               <div
                  class="bg-white d-flex align-items-center form-title-height px-3 border-bottom">
                  <div
                     class="w-100 d-flex align-items-center justify-content-between">
                     <div class="fs-5 fw-medium">Form Name:</div>
                     <div class="d-flex align-items-center gap-2">
                        <button
                           type="button"
                           @click="removeSavedFields"
                           class="btn btn-sm rounded-0 btn-danger">
                           Remove Saved Fields
                        </button>
                        <button
                           type="button"
                           @click="clearAll"
                           class="btn btn-sm rounded-0 btn-danger">
                           Clear All Fields
                        </button>
                        <button
                           class="btn btn-sm btn-success rounded-0"
                           type="button"
                           :disabled="!formFields.length"
                           @click="saveForm">
                           Save Form
                        </button>
                        <button
                           class="btn btn-sm btn-primary rounded-0"
                           @click="exportJSON">
                           <i class="fas fa-download"></i> Export JSON
                        </button>
                     </div>
                  </div>
               </div>

               <div class="content-preview p-3">
                  <draggable
                     v-model="formFields"
                     group="fields"
                     item-key="uid"
                     :animation="150"
                     ghost-class="sortable-ghost"
                     chosen-class="sortable-chosen"
                     drag-class="sortable-drag"
                     handle=".dropped-field"
                     :class="['drop-zone', { empty: formFields.length === 0 }]"
                     id="form-canvas">
                     <template #item="{element: field, index}">
                        <div
                           class="dropped-field"
                           :class="{ 'container-field': field.type === 'container' }">
                           <!-- Regular Field -->
                           <template
                              v-if="field.type !== 'container' && field.type !== 'table'">
                              <div class="field-controls">
                                 <button
                                    class="btn btn-sm btn-outline-primary"
                                    @click.stop="editField(field)">
                                    <i class="fas fa-edit"></i>
                                 </button>
                                 <button
                                    class="btn btn-sm btn-outline-danger"
                                    @click.stop="removeField(index)">
                                    <i class="fas fa-trash"></i>
                                 </button>
                              </div>

                              <div class="field-label">
                                 {{ field.label }}
                                 <span
                                    v-if="field.required"
                                    class="field-required"
                                    >*</span
                                 >
                                 <span class="field-type-badge"
                                    >{{ field.type }}</span
                                 >
                              </div>

                              <input
                                 v-if="field.type === 'text' || field.type === 'email'"
                                 type="text"
                                 class="form-control"
                                 :placeholder="field.placeholder"
                                 disabled />

                              <input
                                 v-if="field.type === 'number'"
                                 type="number"
                                 class="form-control"
                                 :placeholder="field.placeholder"
                                 disabled />

                              <textarea
                                 v-if="field.type === 'textarea' || field.type === 'paragraph'"
                                 class="form-control"
                                 rows="3"
                                 :placeholder="field.placeholder"
                                 disabled></textarea>

                              <h3 v-if="field.type === 'heading'" class="h4">
                                 {{ field.placeholder }}
                              </h3>

                              <select
                                 v-if="field.type === 'select'"
                                 class="form-control"
                                 disabled>
                                 <option>{{ field.placeholder }}</option>
                                 <option
                                    v-for="(option, idx) in field.options"
                                    :key="idx">
                                    {{ option }}
                                 </option>
                              </select>

                              <div v-if="field.type === 'radio'">
                                 <div
                                    v-for="(option, idx) in field.options"
                                    :key="idx"
                                    class="form-check">
                                    <input
                                       class="form-check-input"
                                       type="radio"
                                       :name="field.name"
                                       disabled />
                                    <label class="form-check-label"
                                       >{{ option }}</label
                                    >
                                 </div>
                              </div>

                              <div v-if="field.type === 'checkbox'">
                                 <div
                                    v-for="(option, idx) in field.options"
                                    :key="idx"
                                    class="form-check">
                                    <input
                                       class="form-check-input"
                                       type="checkbox"
                                       disabled />
                                    <label class="form-check-label"
                                       >{{ option }}</label
                                    >
                                 </div>
                              </div>
                              <!-- Photo Upload Field -->
                              <div v-if="field.type === 'photo'">
                                 <input
                                    type="file"
                                    :id="'photo-' + field.uid"
                                    :accept="field.acceptedTypes || 'image/*'"
                                    @change="handlePhotoUpload($event, field)"
                                    style="display: none" />

                                 <div
                                    class="photo-upload-container"
                                    @click="triggerPhotoUpload(field.uid)"
                                    v-if="!field.uploadedPhoto">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <div class="photo-upload-text">
                                       Click to upload photo
                                    </div>
                                    <div class="photo-upload-hint">
                                       <!-- {{ field.placeholder ?? 'Supports JPG, PNG, GIF (Max 5MB)' }} -->
                                       Supports JPG, PNG, GIF (Max 5MB
                                    </div>
                                 </div>

                                 <div
                                    v-if="field.uploadedPhoto"
                                    class="position-relative">
                                    <img
                                       :src="field.uploadedPhoto"
                                       class="photo-preview"
                                       alt="Uploaded photo" />
                                    <button
                                       class="btn btn-sm btn-danger position-absolute top-0 end-0 m-2"
                                       @click.stop="removePhoto(field)">
                                       <i class="fas fa-times"></i>
                                    </button>
                                    <div class="text-center mt-2">
                                       <small class="text-muted"
                                          >{{ field.photoName }}</small
                                       >
                                    </div>
                                 </div>
                              </div>
                           </template>

                           <!-- Container Field -->
                           <template v-else-if="field.type == 'container'">
                              <div class="field-controls">
                                 <button
                                    class="btn btn-sm btn-outline-success"
                                    @click.stop="addColumn(field)">
                                    <i class="fas fa-plus"></i>
                                 </button>
                                 <button
                                    class="btn btn-sm btn-outline-danger"
                                    @click.stop="removeField(index)">
                                    <i class="fas fa-trash"></i>
                                 </button>
                              </div>

                              <div class="field-label">
                                 <i class="fas fa-layer-group"></i> {{
                                 field.label }}
                                 <span class="field-type-badge">container</span>
                              </div>

                              <div
                                 class="container-columns"
                                 :style="{ gridTemplateColumns: 'repeat(' + field.columns.length + ', 1fr)' }">
                                 <div
                                    v-for="(column, colIdx) in field.columns"
                                    :key="colIdx"
                                    class="container-column"
                                    :class="{ empty: column.fields.length === 0 }">
                                    <div class="column-controls">
                                       <small class="text-muted"
                                          >Column {{ colIdx + 1 }}</small
                                       >
                                       <button
                                          v-if="field.columns.length > 1"
                                          class="btn btn-sm btn-outline-danger ms-auto rounded-circle column-remove-btn"
                                          @click.stop="removeColumn(field, colIdx)">
                                          <i class="fas fa-times"></i>
                                       </button>
                                    </div>

                                    <draggable
                                       v-model="column.fields"
                                       group="fields"
                                       item-key="uid"
                                       :animation="150"
                                       ghost-class="sortable-ghost"
                                       handle=".dropped-field"
                                       :empty-insert-threshold="50"
                                       class="column-draggable">
                                       <template
                                          #item="{element: nestedField, index: nestedIdx}">
                                          <div class="dropped-field mb-2">
                                             <div class="field-controls">
                                                <button
                                                   class="btn btn-sm btn-outline-primary"
                                                   @click.stop="editField(nestedField)">
                                                   <i class="fas fa-edit"></i>
                                                </button>
                                                <button
                                                   class="btn btn-sm btn-outline-danger"
                                                   @click.stop="removeNestedField(field, colIdx, nestedIdx)">
                                                   <i class="fas fa-trash"></i>
                                                </button>
                                             </div>

                                             <div class="field-label">
                                                {{ nestedField.label }}
                                                <span
                                                   v-if="nestedField.required"
                                                   class="field-required"
                                                   >*</span
                                                >
                                                <span class="field-type-badge"
                                                   >{{ nestedField.type }}</span
                                                >
                                             </div>

                                             <input
                                                v-if="nestedField.type === 'text' || nestedField.type === 'email'"
                                                type="text"
                                                class="form-control form-control-sm"
                                                :placeholder="nestedField.placeholder"
                                                disabled />

                                             <input
                                                v-if="nestedField.type === 'number'"
                                                type="number"
                                                class="form-control form-control-sm"
                                                :placeholder="nestedField.placeholder"
                                                disabled />

                                             <textarea
                                                v-if="nestedField.type === 'textarea' || nestedField.type === 'paragraph'"
                                                class="form-control form-control-sm"
                                                rows="2"
                                                :placeholder="nestedField.placeholder"
                                                disabled></textarea>

                                             <h5
                                                v-if="nestedField.type === 'heading'">
                                                {{ nestedField.placeholder }}
                                             </h5>

                                             <select
                                                v-if="nestedField.type === 'select'"
                                                class="form-control form-control-sm"
                                                disabled>
                                                <option>
                                                   {{ nestedField.placeholder }}
                                                </option>
                                                <option
                                                   v-for="(option, idx) in nestedField.options"
                                                   :key="idx">
                                                   {{ option }}
                                                </option>
                                             </select>

                                             <div
                                                v-if="nestedField.type === 'radio'">
                                                <div
                                                   v-for="(option, idx) in nestedField.options"
                                                   :key="idx"
                                                   class="form-check">
                                                   <input
                                                      class="form-check-input"
                                                      type="radio"
                                                      :name="nestedField.name"
                                                      disabled />
                                                   <label
                                                      class="form-check-label small"
                                                      >{{ option }}</label
                                                   >
                                                </div>
                                             </div>

                                             <div
                                                v-if="nestedField.type === 'checkbox'">
                                                <div
                                                   v-for="(option, idx) in nestedField.options"
                                                   :key="idx"
                                                   class="form-check">
                                                   <input
                                                      class="form-check-input"
                                                      type="checkbox"
                                                      disabled />
                                                   <label
                                                      class="form-check-label small"
                                                      >{{ option }}</label
                                                   >
                                                </div>
                                             </div>
                                             <div
                                                v-if="nestedField.type === 'photo'">
                                                <input
                                                   type="file"
                                                   :id="'photo-' + nestedField.uid"
                                                   :accept="nestedField.acceptedTypes || 'image/*'"
                                                   @change="handlePhotoUpload($event, nestedField)"
                                                   style="display: none" />

                                                <div
                                                   class="photo-upload-container"
                                                   style="padding: 15px"
                                                   @click="triggerPhotoUpload(nestedField.uid)"
                                                   v-if="!nestedField.uploadedPhoto">
                                                   <i
                                                      class="fas fa-cloud-upload-alt"
                                                      style="
                                                         font-size: 32px;
                                                      "></i>
                                                   <div
                                                      class="photo-upload-text">
                                                      Upload photo
                                                   </div>
                                                   <div
                                                      class="photo-upload-hint">
                                                      {{ nestedField.placeholder
                                                      || 'Max 5MB' }}
                                                   </div>
                                                </div>

                                                <div
                                                   v-if="nestedField.uploadedPhoto"
                                                   class="position-relative">
                                                   <img
                                                      :src="nestedField.uploadedPhoto"
                                                      style="
                                                         max-width: 100%;
                                                         max-height: 150px;
                                                         border-radius: 6px;
                                                      "
                                                      alt="Uploaded" />
                                                   <button
                                                      class="btn btn-sm btn-danger position-absolute top-0 end-0 m-1"
                                                      @click.stop="removePhoto(nestedField)">
                                                      <i
                                                         class="fas fa-times"></i>
                                                   </button>
                                                   <div
                                                      class="text-center mt-2">
                                                      <small
                                                         class="text-muted"
                                                         style="font-size: 11px"
                                                         >{{
                                                         nestedField.photoName
                                                         }}</small
                                                      >
                                                   </div>
                                                </div>
                                             </div>
                                          </div>
                                       </template>

                                       <template
                                          #footer
                                          v-if="column.fields.length === 0">
                                          <div
                                             class="text-center text-muted py-5">
                                             Drop fields here
                                          </div>
                                       </template>
                                    </draggable>
                                 </div>
                              </div>
                           </template>
                           <template v-else-if="field.type === 'table'">
                              <div class="field-controls">
                                 <button
                                    class="btn btn-sm btn-outline-danger"
                                    @click.stop="removeField(index)">
                                    <i class="fas fa-trash"></i>
                                 </button>
                              </div>

                              <div class="field-label">
                                 <i class="fas fa-table"></i> {{ field.label }}
                                 <span class="field-type-badge">table</span>
                              </div>

                              <table class="dynamic-table">
                                 <thead>
                                    <tr>
                                       <th
                                          v-for="(header, colIdx) in field.table.headers"
                                          :key="'header-' + colIdx">
                                          <div
                                             class="d-flex align-items-center">
                                             <div style="flex: 1">
                                                <input
                                                   type="text"
                                                   class="rounded-0 form-control form-control-sm"
                                                   :value="header"
                                                   @input="updateTableHeader(field, colIdx, $event.target.value)"
                                                   placeholder="Header" />
                                             </div>
                                             <button
                                                class="btn btn-sm btn-outline-danger ms-2 rounded-circle column-remove-btn"
                                                @click.stop="removeTableColumn(field, colIdx)">
                                                <i class="fas fa-times"></i>
                                             </button>
                                          </div>
                                       </th>
                                       <th
                                          class="bg-white text-center"
                                          style="
                                             width: 60px;
                                             max-width: 60px;
                                             min-width: 60px;
                                          ">
                                          <button
                                             class="btn btn-sm btn-outline-success rounded-circle column-remove-btn"
                                             @click.stop="addTableColumn(field)">
                                             <i class="fas fa-plus"></i>
                                          </button>
                                       </th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr
                                       v-for="(row, rowIdx) in field.table.rows"
                                       :key="'row-' + rowIdx">
                                       <td
                                          v-for="(cell, colIdx) in row"
                                          :key="'cell-' + rowIdx + '-' + colIdx">
                                          <draggable
                                             v-model="cell.fields"
                                             group="fields"
                                             item-key="uid"
                                             :animation="150"
                                             ghost-class="sortable-ghost"
                                             handle=".table-cell-field"
                                             :empty-insert-threshold="30"
                                             :class="['table-cell-drop-zone', { empty: cell.fields.length === 0 }]">
                                             <template
                                                #item="{element: cellField, index: fieldIdx}">
                                                <div class="table-cell-field">
                                                   <div class="field-controls">
                                                      <button
                                                         class="btn btn-sm btn-outline-primary"
                                                         @click.stop="editField(cellField)">
                                                         <i
                                                            class="fas fa-edit"></i>
                                                      </button>
                                                      <button
                                                         class="btn btn-sm btn-outline-danger"
                                                         @click.stop="removeTableCellField(field, rowIdx, colIdx, fieldIdx)">
                                                         <i
                                                            class="fas fa-trash"></i>
                                                      </button>
                                                   </div>

                                                   <div class="field-label">
                                                      {{ cellField.label }}
                                                      <span
                                                         v-if="cellField.required"
                                                         class="field-required"
                                                         >*</span
                                                      >
                                                      <span
                                                         class="field-type-badge"
                                                         >{{ cellField.type
                                                         }}</span
                                                      >
                                                   </div>

                                                   <input
                                                      v-if="cellField.type === 'text' || cellField.type === 'email'"
                                                      type="text"
                                                      class="form-control form-control-sm"
                                                      :placeholder="cellField.placeholder"
                                                      disabled />

                                                   <input
                                                      v-if="cellField.type === 'number'"
                                                      type="number"
                                                      class="form-control form-control-sm"
                                                      :placeholder="cellField.placeholder"
                                                      disabled />

                                                   <textarea
                                                      v-if="cellField.type === 'textarea' || cellField.type === 'paragraph'"
                                                      class="form-control form-control-sm"
                                                      rows="2"
                                                      :placeholder="cellField.placeholder"
                                                      disabled></textarea>

                                                   <h6
                                                      v-if="cellField.type === 'heading'"
                                                      class="mb-0">
                                                      {{ cellField.placeholder
                                                      }}
                                                   </h6>

                                                   <select
                                                      v-if="cellField.type === 'select'"
                                                      class="form-control form-control-sm"
                                                      disabled>
                                                      <option>
                                                         {{
                                                         cellField.placeholder
                                                         }}
                                                      </option>
                                                      <option
                                                         v-for="(option, idx) in cellField.options"
                                                         :key="idx">
                                                         {{ option }}
                                                      </option>
                                                   </select>

                                                   <div
                                                      v-if="cellField.type === 'radio'">
                                                      <div
                                                         v-for="(option, idx) in cellField.options"
                                                         :key="idx"
                                                         class="form-check">
                                                         <input
                                                            class="form-check-input"
                                                            type="radio"
                                                            :name="cellField.name"
                                                            disabled />
                                                         <label
                                                            class="form-check-label"
                                                            >{{ option }}</label
                                                         >
                                                      </div>
                                                   </div>

                                                   <div
                                                      v-if="cellField.type === 'checkbox'">
                                                      <div
                                                         v-for="(option, idx) in cellField.options"
                                                         :key="idx"
                                                         class="form-check">
                                                         <input
                                                            class="form-check-input"
                                                            type="checkbox"
                                                            disabled />
                                                         <label
                                                            class="form-check-label"
                                                            >{{ option }}</label
                                                         >
                                                      </div>
                                                   </div>
                                                   <div
                                                      v-if="cellField.type === 'photo'">
                                                      <input
                                                         type="file"
                                                         :id="'photo-' + cellField.uid"
                                                         :accept="cellField.acceptedTypes || 'image/*'"
                                                         @change="handlePhotoUpload($event, cellField)"
                                                         style="
                                                            display: none;
                                                         " />

                                                      <div
                                                         class="photo-upload-container"
                                                         style="padding: 15px"
                                                         @click="triggerPhotoUpload(cellField.uid)"
                                                         v-if="!cellField.uploadedPhoto">
                                                         <i
                                                            class="fas fa-cloud-upload-alt"
                                                            style="
                                                               font-size: 32px;
                                                            "></i>
                                                         <div
                                                            class="photo-upload-text">
                                                            Upload photo
                                                         </div>
                                                         <div
                                                            class="photo-upload-hint">
                                                            {{
                                                            cellField.placeholder
                                                            || 'Max 5MB' }}
                                                         </div>
                                                      </div>

                                                      <div
                                                         v-if="cellField.uploadedPhoto"
                                                         class="position-relative">
                                                         <img
                                                            :src="cellField.uploadedPhoto"
                                                            style="
                                                               max-width: 100%;
                                                               max-height: 150px;
                                                               border-radius: 6px;
                                                            "
                                                            alt="Uploaded" />
                                                         <button
                                                            class="btn btn-sm btn-outline-danger rounded-circle column-remove-btn position-absolute top-0 end-0 m-1"
                                                            @click.stop="removePhoto(cellField)">
                                                            <i
                                                               class="fas fa-times"></i>
                                                         </button>
                                                         <div
                                                            class="text-center mt-2">
                                                            <small
                                                               class="text-muted"
                                                               style="
                                                                  font-size: 11px;
                                                               "
                                                               >{{
                                                               cellField.photoName
                                                               }}</small
                                                            >
                                                         </div>
                                                      </div>
                                                   </div>
                                                </div>
                                             </template>

                                             <template
                                                #footer
                                                v-if="cell.fields.length === 0">
                                                <div
                                                   style="pointer-events: none">
                                                   Drop here
                                                </div>
                                             </template>
                                          </draggable>
                                       </td>
                                       <td class="text-center">
                                          <button
                                             class="btn btn-sm btn-outline-danger rounded-circle column-remove-btn"
                                             @click.stop="removeTableRow(field, rowIdx)">
                                             <i class="fas fa-trash"></i>
                                          </button>
                                       </td>
                                    </tr>
                                 </tbody>
                                 <tfoot>
                                    <tr>
                                       <td
                                          :colspan="field.table.headers.length + 1">
                                          <button
                                             class="btn btn-sm btn-outline-success rounded-circle column-remove-btn"
                                             @click.stop="addTableRow(field)">
                                             <i class="fas fa-plus"></i>
                                          </button>
                                       </td>
                                    </tr>
                                 </tfoot>
                              </table>
                           </template>

                           <template v-else>
                              <div>No field</div>
                           </template>
                        </div>
                     </template>

                     <template #footer v-if="formFields.length === 0">
                        <div style="pointer-events: none">
                           <i class="fas fa-hand-pointer"></i> Drag and drop
                           elements here
                        </div>
                     </template>
                  </draggable>
               </div>
            </div>
         </div>
      </div>

      <!-- Vue 3 -->
      <script src="./assets/js/vue.global.js"></script>
      <script src="./assets/js/Sortable.min.js"></script>
      <script src="./assets/js/vuedraggable.js"></script>
      <script src="./assets/js/bootstrap.bundle.min.js"></script>
      <script src="./assets/js/script.js" type="module"></script>
   </body>
</html>
